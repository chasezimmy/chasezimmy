# -*- coding: utf-8 -*-
from flask import Flask, request, send_from_directory, render_template, jsonify
import os
import json
import random

app = Flask(__name__)

face = ["( .-. )", "( .o.)", "( `Â·Â´ )", "( Â° Íœ Ê– Â°)", "( Í¡Â° ÍœÊ– Í¡Â°)",
        "( âš† _ âš† )", "( ï¸¶ï¸¿ï¸¶)", "( ï¾Ÿãƒ®ï¾Ÿ)", "(\/)(Â°,,,Â°)(\/)", "(Â¬_Â¬)", "(Â¬Âº-Â°)Â¬",
        "(Â¬â€¿Â¬)", "(Â°ãƒ­Â°)â˜", "(Â´ãƒ»Ï‰ãƒ»)ã£", "(Ã³ Ã¬_Ã­)", "(Ê˜á—©Ê˜')", "(Ê˜â€¿Ê˜)", "(Í¡Â° ÍœÊ– Í¡Â°)",
        "(à² _à² )", "(à² â€¿à² )", "(à² âŒ£à² )", "(à²¥_à²¥)", "(à²¥ï¹à²¥)", "(à¸‡ Í Â° ÍŸÙ„Íœ Í¡Â°)à¸‡", "(à¸‡ Í¡Ê˜ ÍœÊ– Í¡Ê˜)à¸‡",
        "(à¸‡ â€¢Ì€_â€¢Ì)à¸‡", "(à¸‡'Ì€-'Ì)à¸‡", "(à¸‡Â°Ù„ÍœÂ°)à¸‡", "(à¸‡âŒâ–¡Ù„Íœâ–¡)à¸‡", "(áƒ¦Ë˜âŒ£Ë˜áƒ¦)", "(áµ”á´¥áµ”)", "(â€¢Ï‰â€¢)", "(â€¢â—¡â€¢)/",
        "(âŠ™Ï‰âŠ™)", "(âŒâ– _â– )", "(â”€â€¿â€¿â”€)", "(â•¯Â°â–¡Â°ï¼‰â•¯", "(â—•â€¿â—•)", "(â˜žï¾Ÿâˆ€ï¾Ÿ)â˜ž", "(âá´¥âÊ‹)", "(ã£â—•â€¿â—•)ã£",
        "(ã¥ï½¡â—•â€¿â€¿â—•ï½¡)ã¥", "(ãƒŽà² ç›Šà² )ãƒŽ", "(ãƒŽãƒ»âˆ€ãƒ»)ãƒŽ", "(ï¼›ä¸€_ä¸€)", "(ï½€â—” Ï‰ â—”Â´)", "(ï½¡â—•â€¿â€¿â—•ï½¡)", "(ï¾‰â—•ãƒ®â—•)ï¾‰",
        "=^.^=", "t(-.-t)", "| (â€¢ â—¡â€¢)|", "~(Ë˜â–¾Ë˜~)", "Â¬_Â¬", "Â¯\(Â°_o)/Â¯", "Â¯\_(ãƒ„)_/Â¯", "Â°Ð”Â°", "É³à¼¼àºˆÙ„Íœàºˆà¼½É²",
        "Ê…Ê•â€¢á´¥â€¢Ê”Êƒ", "Ê•Â´â€¢á´¥â€¢`Ê”", "Ê•â€¢á´¥â€¢Ê”", "Ê•â—‰.â—‰Ê”", "Ê•ã…‡í˜¸ã…‡Ê”", "Ê•ï¼›â€¢`á´¥â€¢Â´Ê”", "Ê˜â€¿Ê˜", "Í¡Â° ÍœÊ– Í¡Â°", "à² _à² ",
        "à² oà² ", "à² ~à² ", "à² â€¿à² ", "à² âŒ£à² ", "à² â•­â•®à² ", "à²°_à²°", "à¸‡ Í Â° Ù„Íœ Â°)à¸‡", "à¼¼ Í¡â– Ù„Íœ Í¡â– à¼½", "à¼¼ ã¤ â—•_â—• à¼½ã¤", "à¼¼Ê˜ÌšÙ„ÍœÊ˜Ìšà¼½",
        "á”‘â€¢ïºªÍŸÍ â€¢á”", "á••( á› )á•—", "á•™(â‡€â€¸â†¼â€¶)á•—", "á•™à¼¼àºˆÙ„Íœàºˆà¼½á•—", "á¶˜ áµ’á´¥áµ’á¶…", "â‰§â˜‰_â˜‰â‰¦", "âŠ™â–ƒâŠ™", "âŠ™ï¹âŠ™", "â”Œ( à² _à² )â”˜",
        "â•š(à² _à² )=â”", "â—‰_â—‰", "â—” âŒ£ â—”", "â—”Ì¯â—”", "â—•â€¿â†¼", "â—•â€¿â—•", "â˜‰_â˜‰", "â˜œ(âŒ’â–½âŒ’)â˜ž", "â˜¼.â˜¼", "â™¥â€¿â™¥", "âš† _ âš†",
        "âœŒ(-â€¿-)âœŒ", "ã€†(ãƒ»âˆ€ãƒ»ï¼ )", "ãƒŽ( Âº _ ÂºãƒŽ)", "ãƒŽ( ã‚œ-ã‚œãƒŽ)", "ãƒ½( ÍÂ° ÍœÊ–Í¡Â°)ï¾‰", "ãƒ½(`Ð”Â´)ï¾‰", "ãƒ½à¼¼Ê˜ÌšÙ„ÍœÊ˜Ìšà¼½ï¾‰",
        "ãƒ½à¼¼àºˆÙ„Íœàºˆà¼½à¸‡", "ãƒ½à¼¼àºˆÙ„Íœàºˆà¼½ï¾‰", "ãƒ½à¼¼á¿¸Ù„Íœàºˆà¼½ï¾‰", "ãƒ¾(âŒâ– _â– )ãƒŽ", "ê’°ï½¥â—¡ï½¥à¹‘ê’±", "ï½¡â—•â€¿â—•ï½¡", "Ê•ãƒŽâ—”Ï–â—”Ê”ãƒŽ", "à² _à²°à³ƒ",
        "(ê¦Â°á·„Ð´Â°á·…)", "ãƒ˜ï¼ˆã€‚â–¡Â°ï¼‰ãƒ˜", "à«®( áµ’ÌŒà«¢à½ªáµ’ÌŒà«¢ )áƒ", "Ïˆ(ï½€âˆ‡Â´)Ïˆ", "à² ï­›à² ", "(à¹‘>á´—<à¹‘)", "(oT-T)å°¸", "(âœŒï¾Ÿâˆ€ï¾Ÿ)â˜ž",
        "à²¥â€¿à²¥", "( Ë˜ Â³Ë˜)â™¥", "ãƒ¾(Â´ï¿¢ï½€)ï¾‰", "(â€¢Ì€oâ€¢Ì)à¸‡", "(â€¢Ì€.Ì«â€¢Ìâœ§)", "(áµ’Ì¤Ì‘ â‚€Ì‘ áµ’Ì¤Ì‘)", "\_(Ê˜_Ê˜)_/", "ðŸ¤”"]


@app.route('/')
def index():
    work_json = os.path.join(app.static_folder, "", "work.json")
    work = json.load(open(work_json))['work']

    return render_template('index.html', work=work)


@app.errorhandler(404)
def page_not_found(e):
    return render_template('404.html', face="Â¯\_(ãƒ„)_/Â¯".decode("utf8")), 404


@app.route('/robots.txt')
def static_from_root():
    return send_from_directory(app.static_folder, request.path[1:])


@app.route('/face')
def lenny_face():
    return jsonify(face=random.choice(face))


if __name__ == "__main__":
    app.run(host='0.0.0.0')
